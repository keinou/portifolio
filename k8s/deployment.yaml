apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx
spec:
  replicas: 2
  selector:
    matchLabels:
      app: nginx
  template:
    metadata:
      labels:
        app: nginx
    spec:
      containers:
        - name: nginx
          image: karczevski/portifolio
          imagePullPolicy: Always
          ports:
            - containerPort: 80

---
kind: Service
apiVersion: v1
metadata:
  name: portifolio-service
spec:
  selector:
    app: nginx
  type: ClusterIP
  ports:
    - name: http
      port: 80
      targetPort: 80
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: portifolio-service
  annotations:
    kubernetes.io/ingress.class: "nginx"
spec:
  # tls:
  # - secretName: tls-secret
  rules:
    - host: "rafael.karc.com.br"
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: portifolio-service
                port:
                  number: 80
---
apiVersion: v1
kind: Secret
type: kubernetes.io/tls
metadata:
  name: tls-secret
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVvakNDQTRxZ0F3SUJBZ0lVQVJYL1A5RGJVeGNYYjNTRmFYc0h4MDRQbWZZd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2dZc3hDekFKQmdOVkJBWVRBbFZUTVJrd0Z3WURWUVFLRXhCRGJHOTFaRVpzWVhKbExDQkpibU11TVRRdwpNZ1lEVlFRTEV5dERiRzkxWkVac1lYSmxJRTl5YVdkcGJpQlRVMHdnUTJWeWRHbG1hV05oZEdVZ1FYVjBhRzl5CmFYUjVNUll3RkFZRFZRUUhFdzFUWVc0Z1JuSmhibU5wYzJOdk1STXdFUVlEVlFRSUV3cERZV3hwWm05eWJtbGgKTUI0WERUSXlNRFF5TXpJd01Ea3dNRm9YRFRNM01EUXhPVEl3TURrd01Gb3dZakVaTUJjR0ExVUVDaE1RUTJ4dgpkV1JHYkdGeVpTd2dTVzVqTGpFZE1Cc0dBMVVFQ3hNVVEyeHZkV1JHYkdGeVpTQlBjbWxuYVc0Z1EwRXhKakFrCkJnTlZCQU1USFVOc2IzVmtSbXhoY21VZ1QzSnBaMmx1SUVObGNuUnBabWxqWVhSbE1JSUJJakFOQmdrcWhraUcKOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXBGNUpvZmcvOFl4WWZRSUI4Z29LQ2VMS0xNTkI1NU5haGZXbwovOGNhU1NMaDVDUUhzTUdqbUxrMTIrZVVZSnk5M2lrbEo5Vk83ckRVbnlnNFFqMWJLRVRaTEttYlllU0JwdklECnQ4VkJxaHVnbG9PNzNvMUpLdnoyc1NPNDdZSGxXd3hSZitTZGdzc3RDTzJxQ01YR3lZV1VzaFBpdWZPWUFaVHIKbzF0aDUzRTcwRkVXc213R3RLeGNua0ZQWjNCaDNFN2FGbGtwdUdPeEhvTW14ZTNLVEcrSjB3OE4wQTU3L1FnSAovQW1aOSt4YTRqMHhNTlpUNXAwUUJ3MzcvejkxZ3hjS1plRFptUHNJZFl6cERIUjc4WVcvR1JIVnRhUEpldE8rCkkwemt4NUo0bS91TlQ5eDVXeDZMbmFEZU5HU1UrMkZHNmdKYlBhcGJPUlhGUDRrQlN3SURBUUFCbzRJQkpEQ0MKQVNBd0RnWURWUjBQQVFIL0JBUURBZ1dnTUIwR0ExVWRKUVFXTUJRR0NDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjRApBVEFNQmdOVkhSTUJBZjhFQWpBQU1CMEdBMVVkRGdRV0JCUkZPUXZzN1RvQXRDTk9pZ1B5NVNiNWsyWTJRVEFmCkJnTlZIU01FR0RBV2dCUWs2Rk5YWFh3MFFJZXA2NVRidXVFV2VQd3BwREJBQmdnckJnRUZCUWNCQVFRME1ESXcKTUFZSUt3WUJCUVVITUFHR0pHaDBkSEE2THk5dlkzTndMbU5zYjNWa1pteGhjbVV1WTI5dEwyOXlhV2RwYmw5agpZVEFsQmdOVkhSRUVIakFjZ2cwcUxtdGhjbU11WTI5dExtSnlnZ3RyWVhKakxtTnZiUzVpY2pBNEJnTlZIUjhFCk1UQXZNQzJnSzZBcGhpZG9kSFJ3T2k4dlkzSnNMbU5zYjNWa1pteGhjbVV1WTI5dEwyOXlhV2RwYmw5allTNWoKY213d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFLck9KZis3MnhGQ1M5eC9sNlN6Yi9ZLzVwS3Z4R08rUVhIYQpGMjYxZE5lcGNIVVdyV09FN2wrOVA2eTczVzVHMkdTMzNDUEE1bld3MUhrd0RlVEQ4K1dyWkJjMVpXczczRS9JClp0d3ZKd2lqM05ZbU1xeFVBWmg0ZDVKaUg1blkzVkxIbmt5MTRVYmN3SFZtRlR6aytSNE5rQllManFLalBPaHMKQ250bVhGSkllZFFaOWI4cVVtT1ZrT0lxbkdHNGFveWJoWWNKZHpqcVRPYzc5TllKbkVaekt4eGNQMlg2MUxYWQpLMzJmOFE3NnB3bUoyRHUvWDNtNzJaRkp0TkFpSVNjTHVQWjJvYjdZTitGeFk0QmtmWE55TVBMRXBEdVg3Y1ZNClRONTBMeVBrM3BBMEhlRmNLaTJoUmJSWlJSRllWSCtEVjhJSUl1T0NlMVNRdXo1Znh2UT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
  tls.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2QUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktZd2dnU2lBZ0VBQW9JQkFRQ2tYa21oK0QveGpGaDkKQWdIeUNnb0o0c29zdzBIbmsxcUY5YWoveHhwSkl1SGtKQWV3d2FPWXVUWGI1NVJnbkwzZUtTVW4xVTd1c05TZgpLRGhDUFZzb1JOa3NxWnRoNUlHbThnTzN4VUdxRzZDV2c3dmVqVWtxL1BheEk3anRnZVZiREZGLzVKMkN5eTBJCjdhb0l4Y2JKaFpTeUUrSzU4NWdCbE91alcySG5jVHZRVVJheWJBYTByRnllUVU5bmNHSGNUdG9XV1NtNFk3RWUKZ3liRjdjcE1iNG5URHczUURudjlDQWY4Q1puMzdGcmlQVEV3MWxQbW5SQUhEZnYvUDNXREZ3cGw0Tm1ZK3doMQpqT2tNZEh2eGhiOFpFZFcxbzhsNjA3NGpUT1RIa25pYis0MVAzSGxiSG91ZG9ONDBaSlQ3WVVicUFsczlxbHM1CkZjVS9pUUZMQWdNQkFBRUNnZ0VBRWZvK0Uza1RoVmZVVmRmaVhwYTZnbHBMd3BtWW03dUNLeVN6VjBadm1aQTMKSkx6TUdva1RXNkRtUXljUkU0QVJSRHM3MVI5L2dwdlVwWlBBazM0aWVrVU5lOVVSS2FQVWltM3QraXVaQXdJQwpqblBhR0gxYmcxZ25vemhGQWJVellNSDRLQVRaTlhVRGQvYUdvbTcvVHd0Tk9DejBuMklGUGljTG50SmY0dkJTCmkrbkFBRmR2Z2ZtNzhBQUFkUHN0YW1SZlhEcDRQQlFrSkg4ZTJBMDVia2RVS2tBK0lSQ1hwZDJLZHh3Y2VnOWkKNXpoWU03dHRzOGM0MkZjZkE4MVZpd1B3LytRVDQxekZNWlJYK3c1QUQzU3NWb2w3S3l6cUlRV3FwY3pEb3lvTgpoZDlORTJhVU1ybnBpL0M4aVhyT2pwVGdCeDlSK0drYmZkbW9ubUhBQVFLQmdRRGdtbUp5QWwza1FwRmtUa1dWCndHdXViVENVVjNGaHdaTkh1YzFjdjZrQUw5c0VJTG1yenQwODJOeEljRXhjOHA2VkNISURNTndvdHJxWGdlSjQKeDBUd3BUcWExbWx0ZGxiaGYzTkc3c2tEVHBoSnZnN2dLNVdWUFN4eTRkRlZFanptcEJJaVZrSm5JK2trNGdaSQpSSGpIK2pIRDFwNTRJZzlibUZXcXdlY0dxUUtCZ1FDN1dGbWxlRnhzOTMxVWlVVnNWT040OHczc2xOY00zNFBWCkZieUc2VVFxUmJJbU5pMFZZdlBLNlNEaEdCTmxYeXB6NW9qcUk5ajVnRWU3OXVLdHI0bWRJODdkSTBrQWNPZEcKY3VjQmtPQTNrMVIzUGFrdkZsYVdCMkFGSWNvVTJvOUNpdUhpVHAwNmRHcy9xcXBJYmZITXExbEdwYkw5c0ZwSgpxa2ZmV0xEazB3S0JnR0FqTlFnLzR4aVZOYzZOZ2xON0xaeFh1SGVHaGsybG9ma05tczJjYkNaY1ZZOEt3dTY3CmVROVdjOU85M2JIYlYrM0swNkp5QTRxWnpIeVZaKzd5dkp1VTNlVHc2ZWVrdzhONTNrbjZZNmc2dUF5NGdYMksKcWxoYSt1K2hvUXljNWR5RFZnL0VoRi9KaXozeVVXWVZpTzF3Tm1UeE5KdVBXS3VJSlFNV1JHRWhBb0dBVURpcAowbmd5bzVwcWVXdDZaY1FIejcvTUk1VXNiTis5Rk42RTV3UTE0eUFMQTkvSStGSng4RjVaYk9taFRKUXVtb2lKCjhqQzlkVUVmOW5YbVpOYzR4eWdSS1pJMWJWSHJScmhuQUwybnRVU0tNN0VjcEFRZHVZcVk3RG1temIwMUFScDEKVlRHeWs5aE1JR3dWRklTM3VKdGExQ3laODVXelk3M2RudDdjaUc4Q2dZQk1VQ1p6MDY5dTJKRm1HcTBEWUEwdgphN0ViM3MrcGM5RzZsMmNaQzJMTkIvYXpQcjk3cmc0dkZ1Q2phSi9pNEJXV0lVNVNOR2xKcytUOXUzZlNMN2RoCjR6L2ViN1VSb0hmQkhacXVGTVNQR1pSa3R0em4ySjhxamxqeVBaRXEyZUloNWpFUXFQSit1RTRKZWNlYStzYWoKMENzQWR2cW9yYXRxRktURktCZWgrdz09Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K
